<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vulnhub - Symfonos-2 - </title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="PwnFuzz Blog" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/pwnfuzz.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">PwnFuzz Blog</div>
					<div class="logo__tagline">Just another site</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/tags/">
				
				<span class="menu__text">Tags</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>

		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vulnhub - Symfonos-2</h1>
			
		</header>
		<div class="content post__content clearfix">
			<p>Today, we are going to pwn Symfonos 2 from Vulnhub.</p>
<!-- more -->
<h1 id="nmap">Nmap</h1>
<p>Starting off with Nmap, using <code>nmap -sV -sC -A -p- -T5 192.168.43.85</code> shows that we have FTP, SSH, HTTP and SMB port.</p>
<p><img src="/img/symfonos2/nmap.png" alt=""></p>
<h1 id="http-and-ftp-enumeration">HTTP and FTP Enumeration</h1>
<p>Going to the HTTP port shows a similar image that we encountered in previous symfonos machine. Nothing is there, running gobuster, dirb and other web crawlers gave nothing. So moving over to SMB, sice it has <code>Backup</code> folder which is publicly accessible, we can see a <code>log.txt</code>. It has following data:</p>
<p>SAO, we get know thatthere is user aeolus and the directory where backup is being stored.
So, as we knew FTP service is available which is ProFTP 1.3.5, searching for the exploit on ExploitDB. It has a exloit of mod_copy which allows you to copy files from one folder to another. <a href="https://twitter.com/0xmzfr">@mzfr</a> discovered it.
We tried it and we were almost close to making it work but alas, we couldn&rsquo;t. It was just a silly mistake and from this point we accidentaly did the machine in a <strong>very</strong> unintended way.</p>

<h4 id="note">Note</h4>
<p>I will explain the other method at last which <a href="https://twitter.com/zayotic">@zayotic</a> told  <a href="https://twitter.com/0xmzfr">@mzfr</a> after completion of machine.</p>
<h1 id="ftp-bruteforce-and-ssh-login">FTP Bruteforce and SSH Login</h1>
<p>Well, from this point using <strong>THC-Hydra</strong> and <strong>rockyou.txt</strong> we got the password of user aeolus. <code>hydra -l aeolus -P rockyou.txt 192.168.43.85 ftp -t 40</code> reveals that the password is <code>sergioteamo</code>. Now, we tried it to SSH into the machine with the same creentials.</p>
<p><img src="/img/synfonos2/hydra.png" alt=""></p>
<p><strong>SSH Login</strong></p>
<p><img src="/img/symfonos2/ssh.png" alt=""></p>
<h1 id="privilge-escalation">Privilge Escalation</h1>
<p>With some enumeration, I foud that there are 2 users <strong>aeolus</strong> and <strong>cronus</strong>. I tried it enumerate everything I can but at the it was a wild goose chase. So <a href="https://twitter.com/0xmzfr">@mzfr</a> told to me check <code>/etc/apache2</code> folder and checking some files from that I cme to know that there is a local web server running on the machine, to confirm this I used <strong>curl</strong> which confirms it. So using <code>socat TCP-LISTEN:5000;fork,reuseaddr 127.0.0.1:8080</code> we just forked te actual port i.e. 8080 to 5000 of the actual web server, now visiting to <code>http://192.168.43.85:5000</code> shows that it is a <strong>LibreNMS</strong> based web application. I checked ExploitDB and it has exploit for adding a hostname that will give reverse shell, using metasploit I added the module to the <code>~/.ms4/exploits</code> directory.</p>
<p><img src="/img/symfonos2/website.img" alt=""></p>
<p>As the exploit will start working it will give a reverse shell as the user <strong>cronus</strong>. Using <code>sudo -L</code> we can see that <strong>mysql</strong> can be run as root. <a href="https://gtfobins.github.io">GTFOBins</a> to the rescue.</p>
<p>That has shown that using <code>sudo mysql '\! /bin/sh</code> we can spawn root shell.</p>
<p><img src="/img/symfonos2/sql.png" alt=""></p>
<p><img src="/img/symfonos2/root.png" alt=""></p>
<p><strong>The Flag</strong></p>
<p><img src="/img/symfonos2/flag.png" alt=""></p>
<h1 id="intended-way">Intended Way</h1>
<p>As much as I was happy for pwning this machine but it was temporry the main learning part is missed in it by using hydra.
So as I mentioned eariler we were supposed to use that ProFTP 1.3.5 vulnerbaility which can be found here to copy files from one folder to another. From that exploit we can copy the files from any folder and copy it to <code>/home/aeolus/share/</code> that will make that file publicly accessible to us via SMB. So, copying the file <code>/var/backups/shadow.bak</code> to <code>/home/aeolus/share/shadow.txt</code>. After that it will be available to SMB service which can be used to dump the users password and then cracked with <strong>john</strong> to crack the hash of the user <strong>aeolus</strong>.</p>
<h1 id="resources">Resources</h1>
<p>ProFTP 1.3.5 - File Copy: <a href="https://www.exploit-db.com/exploits/36742">https://www.exploit-db.com/exploits/36742</a>
GTFOBins: <a href="https://gtfobins.github.io">https://gtfobins.github.io</a>
LibreNMS Exploit: <a href="https://www.exploit-db.com/exploits/46970">https://www.exploit-db.com/exploits/46970</a></p>
<h4 id="thanks-to">Thanks to</h4>
<p><a href="https://twitter.com/0xmzfr">@mzfr</a>
<a href="https://twitter.com/DCAU7">@DCAU7</a></p>
<h4 id="detailed-version-og-intended-way">Detailed version og intended way.</h4>
<p>The very detail version of the intended way is covered by <a href="https://twitter.com/0xmzfr">@mzfr</a> in his <a href="https://mzfr.github.io/symfonos2">writeup</a>.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/nmap-ctf-vulnhub/" rel="tag">nmap, ctf, vulnhub</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>




			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<input class="widget-search__field" type="search" placeholder="Search…" value="" name="q" aria-label="Search…">
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="http://localhost:1313/">
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/posts/crushftp-cve-2025-2825/">CVE 2025-2825 - CrushFTP Authentication Bypass Analysis</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/hpe-irs-cve-deep-dive/">Exploring Recent CVEs in HPE Insight Remote Support</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/ivanti-endpoint-manager-xxe-cve-2024-37397/">CVE 2024-37397 - Ivanti Endpoint Manager XXE Vulnerability</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/crushftp-cve-2024-4040/">CVE 2024-4040 - CrushFTP Server-Side Template Injection Vulnerability Analysis</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/soccer-htb/">HackTheBox - Soccer</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/cve-analysis/">CVE Analysis</a></li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/hackthebox/">HackTheBox</a></li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/pwning/">Pwning</a></li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/vulnhub/">Vulnhub</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/nmap-ctf-vulnhub/" title="Nmap, Ctf, Vulnhub">Nmap, Ctf, Vulnhub (4)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/java/" title="Java">Java (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/rce/" title="RCE">RCE (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/xxe/" title="XXE">XXE (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/.net/" title=".NET">.NET (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/auth-bypass/" title="Auth-Bypass">Auth-Bypass (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cve-2024-37297/" title="CVE-2024-37297">CVE-2024-37297 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cve-2024-4040/" title="Cve-2024-4040">Cve-2024-4040 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cve-2024-53675/" title="CVE-2024-53675">CVE-2024-53675 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cve-2024-53676/" title="CVE-2024-53676">CVE-2024-53676 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cve-2025-2825/" title="CVE-2025-2825">CVE-2025-2825 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dstat-sqlmap-upstream_proxy-websocket/" title="Dstat, Sqlmap, Upstream_proxy, Websocket">Dstat, Sqlmap, Upstream_proxy, Websocket (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/logic-flaw/" title="Logic-Flaw">Logic-Flaw (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/oob-xxe/" title="OOB-XXE">OOB-XXE (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/path-traversal/" title="Path Traversal">Path Traversal (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/pwn-hackthebox-v8-kernel-heap-tcache-libc-2.29/" title="Pwn, Hackthebox, V8, Kernel, Heap, Tcache, Libc-2.29">Pwn, Hackthebox, V8, Kernel, Heap, Tcache, Libc-2.29 (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/pwn-tcache-libc-2.27-hackthebox/" title="Pwn, Tcache, Libc-2.27, Hackthebox">Pwn, Tcache, Libc-2.27, Hackthebox (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/rop-bof-ret2csu-ctf/" title="Rop, Bof, Ret2csu, Ctf">Rop, Bof, Ret2csu, Ctf (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/rop-pwn-bof/" title="Rop, Pwn, Bof">Rop, Pwn, Bof (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/rop-pwn-radare2-pwntools/" title="Rop, Pwn, Radare2, Pwntools">Rop, Pwn, Radare2, Pwntools (1)</a>
		<a class="widget-taglist__link widget__link btn widget-taglist__link--all" href="/tags/">View all tags →</a>
	</div>
</div>

</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 .
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>